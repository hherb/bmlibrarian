# The "golden rules" of programming for BMLibrarian

1. **Never trust input from users, external data, network or file data**: Always validate and sanitize input. Never trust that it will be in the expected format or contain the expected data.
2. **No magic numbers**: Always use constants or configuration for numbers. Never hardcode numbers. Always use named constants for numbers that are used in multiple places.
3. **No hardcoded paths**: Always use constants or configuration for paths. Never hardcode paths. Always use named constants for paths that are used in multiple places. and the migration system:
4. **All model communication happnes through thepython ollama library**: Never use raw HTTP requests to communicate with Ollama. Always use the `ollama` library.
5. **ALl postgres database communication happens through the database manager** Never use psycopg connection directly or modify the database structure/schema without prper migration
6. **All parameters must have type hints**: No exceptions.
7. **All functions, methods, and classes must have docstrings**: No exceptions.
8. **All errors must be handled, logged, and reported to the user**: No exceptions.
9. **No inline style sheets**: All stylesheets must be generated by the stylesheet generator / centralised styling system (stylesheet_generator.py).
10. **No hardcoded pixel values**: All dimensions must be calculated from font metrics or relative to other elements, generally using our dpi font scaling system (dpi_scale.py).
10. **All errors must be reported to the user**: No exceptions.
11. **we prefer reusable pure functions over more comlex larger structures.** Where possible, such pure functions shoudl be factored out into generally useful libraries
12. **All modules need to be documented in markdown format** in doc/users for the end user, and doc/debvelopers for developers. Importantinformation for the AI assistantgo into doc/llm.
13. **All tests must be written**: No exceptions.
14. **No truncation of data**: Never truncate data unless explicitly specified by the user. If in doubt, do not introduce truncation before consulting with the team.
